# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is the official website for Memos (usememos.com), built with Next.js, TypeScript, and Tailwind CSS. It serves as marketing site, documentation hub, blog, and features showcase.

### Tech Stack
- **Framework**: Next.js 16 with App Router
- **Content**: Fumadocs for documentation, MDX for blogs/changelogs
- **Styling**: Tailwind CSS 4.x with custom design system
- **Icons**: Lucide React (use XxxIcon naming convention)
- **Database**: File-based content (MDX files in `/content/`)
- **Node**: Requires Node.js 22.0.0 or higher

## Development Commands

```bash
# Install dependencies (use pnpm)
pnpm install

# Development server with turbo
pnpm dev

# Production build
pnpm build

# Start production server
pnpm start

# Process MDX content (runs automatically on install)
pnpm postinstall
```

## Architecture

### Page Structure
- `app/(home)/` - Marketing homepage with features/stats
- `app/docs/` - Documentation using Fumadocs
- `app/blog/` - Blog posts from `/content/blog/`
- `app/changelog/` - Release notes from `/content/changelog/`  
- `app/features/` - SEO feature pages with individual `/features/[slug]` routes
- `app/brand/`, `app/privacy/`, `app/supporters/` - Static marketing pages

### Content Management
- **Documentation**: MDX files in `/content/docs/` with frontmatter schemas
- **Blog Posts**: MDX files in `/content/blog/` with author, date, tags
- **Changelogs**: MDX files in `/content/changelog/` with version, features, fixes
- **Configuration**: `source.config.ts` defines MDX schemas and processing with Zod validation
- **Source Loaders**: `src/lib/source.ts` configures Fumadocs loaders for docs, blog, and changelog
- **Feature Pages**: Static feature data defined in `src/lib/features.ts` with comprehensive metadata

### Component System
- **Marketing Components**: `src/components/feature-card.tsx`, `stats-card.tsx`, `hero-section.tsx`
- **UI Components**: `src/components/ui/` (Card, Callout, CodeBlock)
- **Layout**: Fumadocs provides docs layout via `app/docs/layout.tsx`, HomeLayout for marketing via `app/(home)/layout.tsx`
- **Shared Config**: `app/layout.config.tsx` defines baseOptions for navigation and branding

### Styling Patterns
- Follow Supernotes.app aesthetic - gradients, rounded corners, modern spacing
- Use `py-24` for section padding, `rounded-2xl` for cards
- Teal/cyan color scheme (`teal-600`, `cyan-600`) for primary actions
- Dark mode support throughout with `dark:` prefixes

### Feature Pages System
Individual SEO pages at `/features/[slug]` generated from `src/lib/features.ts`:
- All feature data defined in FEATURES constant with type-safe FeatureDefinition interface
- Static generation at build time with `generateStaticParams` using FEATURE_SLUGS array
- Hero sections with titles/subtitles
- Benefits lists with CheckCircleIcon from lucide-react
- Use cases with StarIcon
- Technical details in gradient cards
- To add a new feature: Add slug to FEATURE_SLUGS, then add full definition to FEATURES object

## Key Conventions

### Icon Usage
- Import Lucide icons with XxxIcon naming: `import { ShieldIcon } from "lucide-react"`
- Pass icons as React elements to components, not strings

### MDX Components
- Custom components available in MDX: Card, Cards, Callout, CodeBlock
- Register new components in `src/mdx-components.tsx` via getMDXComponents function
- Components are automatically available in all MDX files (docs, blog, changelog)

### Path Aliases
- `@/*` maps to `src/*` (e.g., `@/components/ui/card`)
- `@/.source` maps to `.source/index.ts` (generated by fumadocs-mdx for content)

### Metadata & SEO
- Comprehensive OpenGraph tags on all pages
- Twitter card support
- Feature pages optimized for search with detailed descriptions
- Sitemap generation in `app/sitemap.ts`

## Important Files

- `next.config.mjs` - Next.js configuration with Fumadocs MDX integration
- `source.config.ts` - MDX content schemas and processing configuration (docs, blog, changelog)
- `src/lib/source.ts` - Fumadocs loaders for content collections
- `src/lib/features.ts` - Single source of truth for all feature page data
- `src/mdx-components.tsx` - Custom MDX component registration
- `app/layout.config.tsx` - Shared navigation and branding configuration
- `src/lib/utils.ts` - Utility functions including cn() for className merging

## Content Guidelines

- Remove emojis from marketing content (replaced with Lucide icons)
- Use consistent gradient backgrounds and shadow patterns
- Maintain responsive design with mobile-first approach